(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2601:function(e,t,s){"use strict";var a,r;e.exports=(null==(a=s.g.process)?void 0:a.env)&&"object"==typeof(null==(r=s.g.process)?void 0:r.env)?s.g.process:s(8960)},5974:function(e,t,s){Promise.resolve().then(s.bind(s,9480))},9480:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Home}});var a=s(7437),r=s(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,t)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:o,...d},x)=>(0,r.createElement)("svg",{ref:x,...l,width:a,height:a,stroke:s,strokeWidth:i?24*Number(n)/Number(a):n,className:["lucide",`lucide-${toKebabCase(e)}`,c].join(" "),...d},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s},n=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),i=createLucideIcon("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),c=createLucideIcon("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),o=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),d=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),x=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function InventoryDashboard(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[n,i]=(0,r.useState)({totalSkus:0,totalOnHand:0,avgDailySales:0,lowStockItems:0});(0,r.useEffect)(()=>{fetchInventoryData()},[]);let fetchInventoryData=async()=>{try{l(!0);let e=await fetch("/api/inventory/real"),s=await e.json();if(e.ok){t(s);let e=s.length,a=s.reduce((e,t)=>e+t.on_hand,0),r=s.reduce((e,t)=>e+t.avg_daily_sales,0)/s.length,l=s.filter(e=>e.on_hand<50).length;i({totalSkus:e,totalOnHand:a,avgDailySales:Math.round(100*r)/100,lowStockItems:l})}else throw Error(s.error||"Failed to fetch inventory data")}catch(e){console.error("Error fetching inventory data:",e),t([]),i({totalSkus:0,totalOnHand:0,avgDailySales:0,lowStockItems:0})}finally{l(!1)}};return s?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(c,{className:"h-6 w-6 text-gray-400"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Unique SKUs"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:n.totalSkus})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o,{className:"h-6 w-6 text-green-400"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total On-Hand"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:n.totalOnHand.toLocaleString()})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d,{className:"h-6 w-6 text-blue-400"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Daily Sales"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:n.avgDailySales})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(x,{className:"h-6 w-6 text-yellow-400"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Low Stock Items"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:n.lowStockItems})]})})]})})})]}),(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Inventory Overview"}),(0,a.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Current inventory levels and sales data"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"On Hand"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Backroom"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shelf"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Daily Sales"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Time"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.sku}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.product_name}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.on_hand}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.backroom_units}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.shelf_units}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.avg_daily_sales}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.lead_time_days," days"]})]},e.sku))})]})})]})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),u=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function UploadSection(){let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[n,i]=(0,r.useState)("idle"),[c,d]=(0,r.useState)(""),x=(0,r.useRef)(null),handleDrag=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?t(!0):"dragleave"===e.type&&t(!1)},handleFile=e=>{"text/csv"===e.type||e.name.endsWith(".csv")?(l(e),i("idle"),d("")):(i("error"),d("Please upload a CSV file"))},handleUpload=async()=>{if(s){i("uploading"),d("");try{let e=new FormData;e.append("file",s),await new Promise(e=>setTimeout(e,2e3)),i("success"),d("File uploaded and processed successfully!")}catch(e){i("error"),d("Upload failed. Please try again.")}}},resetUpload=()=>{l(null),i("idle"),d(""),x.current&&(x.current.value="")};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Inventory CSV"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Upload a CSV file with columns: sku, product_name, on_hand, backroom_units, shelf_units, avg_daily_sales, lead_time_days"}),(0,a.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-6 text-center ".concat(e?"border-blue-400 bg-blue-50":s?"border-green-400 bg-green-50":"border-gray-300"),onDragEnter:handleDrag,onDragLeave:handleDrag,onDragOver:handleDrag,onDrop:e=>{e.preventDefault(),e.stopPropagation(),t(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&handleFile(e.dataTransfer.files[0])},children:[(0,a.jsx)("input",{ref:x,type:"file",accept:".csv",onChange:e=>{e.target.files&&e.target.files[0]&&handleFile(e.target.files[0])},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),s?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o,{className:"mx-auto h-12 w-12 text-green-400"}),(0,a.jsx)("p",{className:"text-sm font-medium text-green-600",children:s.name}),(0,a.jsxs)("p",{className:"text-xs text-green-500",children:[(s.size/1024).toFixed(1)," KB"]})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium text-blue-600 hover:text-blue-500",children:"Click to upload"})," ","or drag and drop"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"CSV files only"})]})]}),c&&(0,a.jsx)("div",{className:"mt-4 p-4 rounded-md ".concat("success"===n?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:"success"===n?(0,a.jsx)(o,{className:"h-5 w-5 text-green-400"}):(0,a.jsx)(u,{className:"h-5 w-5 text-red-400"})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm font-medium ".concat("success"===n?"text-green-800":"text-red-800"),children:c})})]})}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[s&&"success"!==n&&(0,a.jsx)("button",{onClick:resetUpload,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s&&"idle"===n&&(0,a.jsx)("button",{onClick:handleUpload,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Upload & Process"}),"success"===n&&(0,a.jsx)("button",{onClick:resetUpload,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Upload Another File"})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Sample CSV Format"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-md p-4 overflow-x-auto",children:(0,a.jsx)("pre",{className:"text-sm text-gray-600",children:"sku,product_name,on_hand,backroom_units,shelf_units,avg_daily_sales,lead_time_days\nSKU-001,Premium Shampoo,150,100,50,12.5,7\nSKU-002,Conditioner,75,50,25,8.2,5\nSKU-003,Body Lotion,200,150,50,15.3,10"})})]})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=createLucideIcon("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),p=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),y=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),g=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function ForecastSection(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[n,i]=(0,r.useState)("all"),[c,o]=(0,r.useState)(""),[m,u]=(0,r.useState)([]),[f,b]=(0,r.useState)(!1),[j,v]=(0,r.useState)(""),[w,N]=(0,r.useState)(null),[k,_]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{fetchForecastData()},[]);let fetchForecastData=async()=>{try{l(!0),t([{sku:"SKU-001",product_name:"Premium Shampoo",current_stock:150,daily_demand:12.5,days_remaining:12,reorder_point:100,suggested_order:200,priority:"High"},{sku:"SKU-002",product_name:"Conditioner",current_stock:75,daily_demand:8.2,days_remaining:9,reorder_point:50,suggested_order:150,priority:"High"},{sku:"SKU-003",product_name:"Body Lotion",current_stock:200,daily_demand:15.3,days_remaining:13,reorder_point:100,suggested_order:100,priority:"Medium"}])}catch(e){console.error("Error fetching forecast data:",e)}finally{l(!1)}},D=e.filter(e=>"all"===n||e.priority.toLowerCase()===n),generateInventoryHistory=async e=>{try{let t=await fetch("/api/inventory/history/".concat(e.sku));if(t.ok){let e=await t.json();return e.map(e=>({date:e.date,stock_level:e.stock_level,demand:e.demand,reorder_point:e.reorder_point}))}}catch(e){console.error("Error fetching real history data:",e)}let t=[],s=new Date;for(let a=29;a>=0;a--){let r=new Date(s);r.setDate(r.getDate()-a);let l=e.current_stock+(Math.random()-.5)*20,n=(Math.random()-.5)*10,i=Math.max(0,Math.round(l+n));t.push({date:r.toISOString().split("T")[0],stock_level:i,demand:e.daily_demand+(Math.random()-.5)*2,reorder_point:e.reorder_point})}return t},handleItemSelect=async t=>{let s=e.find(e=>e.sku===t);if(s){o(t);let e=await generateInventoryHistory(s);u(e),b(!0)}},getPriorityColor=e=>{switch(e){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},handleQuery=async()=>{if(j.trim()){C(!0),_(!1);try{let t=j.toLowerCase(),s="line";t.includes("compare")||t.includes("vs")?s="bar":t.includes("forecast")||t.includes("predict")?s="line":(t.includes("summary")||t.includes("total"))&&(s="pie");let a=[];if(t.includes("sku-001")||t.includes("shampoo")){let t=e.find(e=>"SKU-001"===e.sku);t&&(a=await generateInventoryHistory(t))}else if(t.includes("compare")||t.includes("all"))a=e.map(e=>({x:e.sku,y:e.current_stock,label:e.product_name}));else{let t=e[0];t&&(a=await generateInventoryHistory(t))}let r={type:s,title:"Query Result: ".concat(j),data:a,xAxis:"bar"===s?"SKU":"Date",yAxis:"Stock Level"};N(r),_(!0)}catch(e){console.error("Error processing query:",e)}finally{C(!1)}}};return s?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Reorder Planning & Forecast"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"AI-powered inventory forecasting and reorder recommendations"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:fetchForecastData,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,a.jsx)(p,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,a.jsxs)("button",{onClick:()=>{console.log("Downloading forecast data...")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,a.jsx)(y,{className:"h-4 w-4 mr-2"}),"Download CSV"]})]})]}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"all",label:"All Items",count:e.length},{id:"high",label:"High Priority",count:e.filter(e=>"High"===e.priority).length},{id:"medium",label:"Medium Priority",count:e.filter(e=>"Medium"===e.priority).length},{id:"low",label:"Low Priority",count:e.filter(e=>"Low"===e.priority).length}].map(e=>(0,a.jsxs)("button",{onClick:()=>i(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(n===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label," (",e.count,")"]},e.id))})}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(h,{className:"h-5 w-5 text-blue-400"})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,a.jsx)("strong",{children:"Tip:"})," Click on any row in the table below to view the inventory trend chart for that item."]})})]})}),(0,a.jsx)(()=>{if(!f||0===m.length)return null;let t=e.find(e=>e.sku===c);if(!t)return null;let s=Math.max(...m.map(e=>e.stock_level)),r=m.map((e,t)=>{let a=40+t/(m.length-1)*720,r=40+(1-e.stock_level/s)*220;return{x:a,y:r,...e}});return(0,a.jsxs)("div",{className:"mt-6 bg-white p-6 rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[(0,a.jsx)(h,{className:"h-5 w-5 mr-2"}),"Inventory Trend: ",t.product_name," (",t.sku,")"]}),(0,a.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("svg",{width:800,height:300,className:"border rounded",children:[[0,.25,.5,.75,1].map((e,t)=>(0,a.jsxs)("g",{children:[(0,a.jsx)("line",{x1:40,y1:40+220*e,x2:760,y2:40+220*e,stroke:"#e5e7eb",strokeWidth:1}),(0,a.jsx)("text",{x:30,y:40+220*e+5,textAnchor:"end",className:"text-xs fill-gray-500",children:Math.round(s*(1-e))})]},t)),m.filter((e,t)=>t%5==0).map((e,t)=>{let s=40+5*t/(m.length-1)*720;return(0,a.jsx)("text",{x:s,y:290,textAnchor:"middle",className:"text-xs fill-gray-500",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})},t)}),(0,a.jsx)("line",{x1:40,y1:40+(1-t.reorder_point/s)*220,x2:760,y2:40+(1-t.reorder_point/s)*220,stroke:"#ef4444",strokeWidth:2,strokeDasharray:"5,5"}),(0,a.jsxs)("text",{x:765,y:40+(1-t.reorder_point/s)*220-5,className:"text-xs fill-red-600 font-medium",children:["Reorder Point (",t.reorder_point,")"]}),(0,a.jsx)("polyline",{points:r.map(e=>"".concat(e.x,",").concat(e.y)).join(" "),fill:"none",stroke:"#3b82f6",strokeWidth:3}),r.map((e,t)=>(0,a.jsx)("circle",{cx:e.x,cy:e.y,r:4,fill:"#3b82f6",className:"hover:r-6 transition-all cursor-pointer"},t))]})}),(0,a.jsxs)("div",{className:"mt-4 flex justify-between text-sm text-gray-600",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Current Stock:"})," ",t.current_stock]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Daily Demand:"})," ",t.daily_demand]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Days Remaining:"})," ",t.days_remaining]})]})]})},{}),(0,a.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Daily Demand"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days Remaining"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reorder Point"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Suggested Order"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>handleItemSelect(e.sku),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.sku}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.product_name}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.current_stock}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.daily_demand}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center",children:[e.days_remaining<10&&(0,a.jsx)(x,{className:"h-4 w-4 text-yellow-400 mr-1"}),e.days_remaining," days"]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.reorder_point}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.suggested_order}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(getPriorityColor(e.priority)),children:e.priority})})]},e.sku))})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d,{className:"h-6 w-6 text-blue-400"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Items Needing Reorder"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:e.filter(e=>e.current_stock<=e.reorder_point).length})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(x,{className:"h-6 w-6 text-yellow-400"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"High Priority Items"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:e.filter(e=>"High"===e.priority).length})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d,{className:"h-6 w-6 text-green-400"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Suggested Orders"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:e.reduce((e,t)=>e+t.suggested_order,0)})]})})]})})})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ask Questions About Your Data"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("input",{type:"text",value:j,onChange:e=>v(e.target.value),onKeyPress:e=>"Enter"===e.key&&handleQuery(),placeholder:"e.g., Show me trends for SKU-001, Compare all products, Forecast next week",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,a.jsxs)("button",{onClick:handleQuery,disabled:S||!j.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[(0,a.jsx)(g,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:S?"Analyzing...":"Ask"})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Try these examples:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["Show me trends for SKU-001","Compare all products","Forecast next week","Summary of high priority items"].map((e,t)=>(0,a.jsx)("button",{onClick:()=>v(e),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700 transition-colors",children:e},t))})]})]}),(0,a.jsx)(()=>{if(!k||!w)return null;let{type:e,title:t,data:s,xAxis:r,yAxis:l}=w;return(0,a.jsxs)("div",{className:"mt-6 bg-white p-6 rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[(0,a.jsx)(h,{className:"h-5 w-5 mr-2"}),t]}),(0,a.jsx)("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("svg",{width:800,height:300,className:"border rounded",children:["line"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("polyline",{points:s.map((e,t)=>"".concat(40+t/(s.length-1)*720,",").concat(260-e.y/Math.max(...s.map(e=>e.y))*200)).join(" "),fill:"none",stroke:"#3b82f6",strokeWidth:3}),s.map((e,t)=>(0,a.jsx)("circle",{cx:40+t/(s.length-1)*720,cy:260-e.y/Math.max(...s.map(e=>e.y))*200,r:4,fill:"#3b82f6"},t))]}),"bar"===e&&(0,a.jsx)(a.Fragment,{children:s.map((e,t)=>{let r=e.y/Math.max(...s.map(e=>e.y))*200,l=720/s.length*.8,n=40+t/s.length*720+(720/s.length-l)/2,i=260-r;return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{x:n,y:i,width:l,height:r,fill:"#3b82f6"}),(0,a.jsx)("text",{x:n+l/2,y:i-5,textAnchor:"middle",className:"text-xs fill-gray-600",children:e.y})]},t)})}),"pie"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("circle",{cx:400,cy:150,r:80,fill:"#3b82f6",opacity:.3}),(0,a.jsxs)("text",{x:400,y:150,textAnchor:"middle",className:"text-sm fill-gray-600",children:[s.length," Items"]})]})]})}),(0,a.jsx)("div",{className:"mt-4 text-sm text-gray-600",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Chart Type:"})," ",e.toUpperCase()]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Data Points:"})," ",s.length]})]})})]})},{})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=createLucideIcon("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),b=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),j=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),v=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function ChatInterface(){let[e,t]=(0,r.useState)([{id:"1",role:"assistant",content:"Hello! I'm your inventory assistant. I can help you with questions about stock levels, timelines, and forecasts. What would you like to know?",timestamp:new Date}]),[s,l]=(0,r.useState)(""),[n,i]=(0,r.useState)(!1),c=(0,r.useRef)(null),scrollToBottom=()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{scrollToBottom()},[e]);let handleSubmit=async e=>{if(e.preventDefault(),!s.trim()||n)return;let a={id:Date.now().toString(),role:"user",content:s.trim(),timestamp:new Date};t(e=>[...e,a]),l(""),i(!0);try{await new Promise(e=>setTimeout(e,1500));let e={id:(Date.now()+1).toString(),role:"assistant",content:"I understand you're asking about \"".concat(a.content,'". This is a demo response. In the full implementation, I would connect to your Streamlit backend to provide real inventory insights, timeline information, and forecasting data.'),timestamp:new Date};t(t=>[...t,e])}catch(s){let e={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};t(t=>[...t,e])}finally{i(!1)}};return(0,a.jsxs)("div",{className:"h-[600px] flex flex-col bg-white rounded-lg shadow-lg",children:[(0,a.jsxs)("div",{className:"flex-shrink-0 px-4 py-3 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f,{className:"h-6 w-6 text-blue-600 mr-2"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"AI Inventory Assistant"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Ask about inventory, timelines, or forecasts"})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4",children:[e.map(e=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsx)("div",{className:"flex max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:(0,a.jsxs)("div",{className:"flex items-start",children:["assistant"===e.role&&(0,a.jsx)(f,{className:"h-4 w-4 mt-0.5 mr-2 flex-shrink-0"}),"user"===e.role&&(0,a.jsx)(b,{className:"h-4 w-4 mt-0.5 mr-2 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",children:e.content}),(0,a.jsx)("p",{className:"text-xs mt-1 ".concat("user"===e.role?"text-blue-100":"text-gray-500"),children:e.timestamp.toLocaleTimeString()})]})]})})},e.id)),n&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)("div",{className:"flex max-w-xs lg:max-w-md px-4 py-2 rounded-lg bg-gray-100 text-gray-900",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(f,{className:"h-4 w-4 mt-0.5 mr-2 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j,{className:"h-4 w-4 animate-spin mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:"Thinking..."})]})]})})}),(0,a.jsx)("div",{ref:c})]}),1===e.length&&(0,a.jsxs)("div",{className:"px-4 py-2 border-t border-gray-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Try asking:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["What items are low in stock?","Show me the reorder plan for next week","What's the forecast for SKU-001?","Which products have the highest daily sales?","When will we run out of inventory?"].map((e,t)=>(0,a.jsx)("button",{onClick:()=>l(e),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700 transition-colors",children:e},t))})]}),(0,a.jsx)("div",{className:"flex-shrink-0 px-4 py-3 border-t border-gray-200",children:(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Ask about inventory, timelines, or forecasts...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:n}),(0,a.jsx)("button",{type:"submit",disabled:!s.trim()||n,className:"px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(v,{className:"h-4 w-4"})})]})})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let w=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),N=createLucideIcon("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);function ParquetUpload(){let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[n,i]=(0,r.useState)("idle"),[c,d]=(0,r.useState)(""),x=(0,r.useRef)(null),handleDrag=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?t(!0):"dragleave"===e.type&&t(!1)},handleFile=e=>{e.name.endsWith(".parquet")?(l(e),i("idle"),d("")):(i("error"),d("Please upload a Parquet file (.parquet)"))},handleUpload=async()=>{if(s){i("uploading"),d("");try{let e=new FormData;e.append("file",s);let t=await fetch("/api/upload/parquet",{method:"POST",body:e}),a=await t.json();t.ok?(i("success"),d("File uploaded successfully! Converted to JSON for frontend consumption."),a.filename&&console.log("File uploaded:",a.filename)):(i("error"),d(a.error||"Upload failed"))}catch(e){i("error"),d("Upload failed. Please try again.")}}},resetUpload=()=>{l(null),i("idle"),d(""),x.current&&(x.current.value="")};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(w,{className:"h-5 w-5 mr-2"}),"Upload Parquet Data Files"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Upload Parquet files containing your inventory data. The system will automatically convert them to JSON for frontend consumption."}),(0,a.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-6 text-center ".concat(e?"border-blue-400 bg-blue-50":s?"border-green-400 bg-green-50":"border-gray-300"),onDragEnter:handleDrag,onDragLeave:handleDrag,onDragOver:handleDrag,onDrop:e=>{e.preventDefault(),e.stopPropagation(),t(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&handleFile(e.dataTransfer.files[0])},children:[(0,a.jsx)("input",{ref:x,type:"file",accept:".parquet",onChange:e=>{e.target.files&&e.target.files[0]&&handleFile(e.target.files[0])},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),s?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o,{className:"mx-auto h-12 w-12 text-green-400"}),(0,a.jsx)("p",{className:"text-sm font-medium text-green-600",children:s.name}),(0,a.jsxs)("p",{className:"text-xs text-green-500",children:[(s.size/1024).toFixed(1)," KB"]})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium text-blue-600 hover:text-blue-500",children:"Click to upload"})," ","or drag and drop"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Parquet files only (.parquet)"})]})]}),c&&(0,a.jsx)("div",{className:"mt-4 p-4 rounded-md ".concat("success"===n?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:"success"===n?(0,a.jsx)(o,{className:"h-5 w-5 text-green-400"}):(0,a.jsx)(u,{className:"h-5 w-5 text-red-400"})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm font-medium ".concat("success"===n?"text-green-800":"text-red-800"),children:c})})]})}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[s&&"success"!==n&&(0,a.jsx)("button",{onClick:resetUpload,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s&&"idle"===n&&(0,a.jsx)("button",{onClick:handleUpload,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Upload & Convert"}),"success"===n&&(0,a.jsx)("button",{onClick:resetUpload,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Upload Another File"})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Expected Parquet File Format"}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-md p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Your Parquet file should contain the following columns:"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"sku"})," - Product SKU (string)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"product_name"})," - Product name (string)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"category"})," - Product category (string, optional)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"on_hand"})," - Current stock level (number)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"backroom_units"})," - Backroom inventory (number)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"shelf_units"})," - Shelf inventory (number)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"avg_daily_sales"})," - Average daily sales (number)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"lead_time_days"})," - Lead time in days (number)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"cost_per_unit"})," - Cost per unit (number, optional)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"selling_price"})," - Selling price (number, optional)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"supplier"})," - Supplier name (string, optional)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"last_updated"})," - Last update timestamp (string, optional)"]})]})]})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(N,{className:"h-5 w-5 text-blue-400"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-800",children:"Conversion Process"}),(0,a.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"After uploading, use the Python script to convert Parquet to JSON:"}),(0,a.jsx)("code",{className:"block mt-2 text-xs bg-blue-100 p-2 rounded",children:"python scripts/convert_parquet.py data/your_file.parquet"})]})]})})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=createLucideIcon("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);let QueryParser=class QueryParser{static parseQuery(e){let t=e.toLowerCase(),s="trend";for(let[e,a]of Object.entries(this.keywords))if(a.some(e=>t.includes(e))){s=e;break}let a=this.extractEntities(t),r=this.extractTimeframe(t),l=this.extractMetric(t),n=this.extractFilters(t);return{type:s,entities:a,timeframe:r,metric:l,filters:n}}static extractEntities(e){let t=[],s=e.match(/sku-?\w+/gi);for(let a of(s&&t.push(...s.map(e=>e.toUpperCase())),["fresh produce","dairy","meat","bakery","beverages","snacks","frozen","health","beauty","household"]))e.includes(a)&&t.push(a);for(let s of["shampoo","milk","bread","apple","chicken","egg"])e.includes(s)&&t.push(s);return t}static extractTimeframe(e){for(let[t,s]of Object.entries(this.timeframes))if(e.includes(t))return t}static extractMetric(e){for(let[t,s]of Object.entries(this.metrics))if(e.includes(t))return s;return"stock_level"}static extractFilters(e){let t={};return e.includes("high priority")||e.includes("urgent")?t.priority="High":e.includes("low priority")&&(t.priority="Low"),e.includes("low stock")||e.includes("out of stock")?t.stockLevel="low":(e.includes("high stock")||e.includes("overstocked"))&&(t.stockLevel="high"),t}};QueryParser.keywords={trend:["trend","over time","change","growth","decline","pattern"],comparison:["compare","vs","versus","against","difference","better","worse"],forecast:["forecast","predict","future","projection","estimate","will"],analysis:["analyze","analysis","insight","why","reason","cause"],summary:["summary","overview","total","sum","average","mean"]},QueryParser.timeframes={"last week":7,"last month":30,"last 3 months":90,"last 6 months":180,"last year":365,"this week":7,"this month":30,"this year":365},QueryParser.metrics={"stock level":"stock_level",inventory:"stock_level",sales:"demand",demand:"demand",revenue:"revenue",cost:"cost",profit:"profit"};let GraphGenerator=class GraphGenerator{static generateGraph(e,t){switch(e.type){case"trend":default:return this.generateTrendGraph(e,t);case"comparison":return this.generateComparisonGraph(e,t);case"forecast":return this.generateForecastGraph(e,t);case"analysis":return this.generateAnalysisGraph(e,t);case"summary":return this.generateSummaryGraph(e,t)}}static generateTrendGraph(e,t){let s=e.metric||"stock_level";return e.timeframe,{type:"line",title:"Trend Analysis: ".concat(s.replace("_"," ").toUpperCase()),xAxis:"Date",yAxis:s.replace("_"," ").toUpperCase(),data:t.map(e=>({x:e.date,y:e[s],label:e.sku})),options:{responsive:!0,scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:s.replace("_"," ").toUpperCase()}}}}}}static generateComparisonGraph(e,t){let s=e.metric||"stock_level";return{type:"bar",title:"Comparison: ".concat(s.replace("_"," ").toUpperCase()),xAxis:"SKU",yAxis:s.replace("_"," ").toUpperCase(),data:t.map(e=>({x:e.sku,y:e[s],label:e.product_name})),options:{responsive:!0,scales:{x:{title:{display:!0,text:"SKU"}},y:{title:{display:!0,text:s.replace("_"," ").toUpperCase()}}}}}}static generateForecastGraph(e,t){let s=e.metric||"stock_level",a=this.generateForecastData(t,s);return{type:"line",title:"Forecast: ".concat(s.replace("_"," ").toUpperCase()),xAxis:"Date",yAxis:s.replace("_"," ").toUpperCase(),data:a,options:{responsive:!0,scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:s.replace("_"," ").toUpperCase()}}}}}}static generateAnalysisGraph(e,t){let s=e.metric||"stock_level";return{type:"scatter",title:"Analysis: ".concat(s.replace("_"," ").toUpperCase()," vs Demand"),xAxis:"Demand",yAxis:s.replace("_"," ").toUpperCase(),data:t.map(e=>({x:e.demand,y:e[s],label:e.sku})),options:{responsive:!0,scales:{x:{title:{display:!0,text:"Demand"}},y:{title:{display:!0,text:s.replace("_"," ").toUpperCase()}}}}}}static generateSummaryGraph(e,t){let s=e.metric||"stock_level";return{type:"pie",title:"Summary: ".concat(s.replace("_"," ").toUpperCase()," Distribution"),xAxis:"Category",yAxis:"Value",data:t.map(e=>({label:e.sku,value:e[s]})),options:{responsive:!0}}}static generateForecastData(e,t){var s;let a=e.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),r=(null===(s=a[a.length-1])||void 0===s?void 0:s[t])||0,l=this.calculateTrend(a,t),n=[...a];for(let e=1;e<=7;e++){let t=new Date;t.setDate(t.getDate()+e);let s=r+l*e;n.push({x:t.toISOString().split("T")[0],y:Math.max(0,s),label:"Forecast",isForecast:!0})}return n}static calculateTrend(e,t){if(e.length<2)return 0;let s=e.map(e=>e[t]),a=s.length,r=a*(a-1)/2,l=s.reduce((e,t)=>e+t,0),n=s.reduce((e,t,s)=>e+s*t,0);return(a*n-r*l)/(a*(a*(a-1)*(2*a-1)/6)-r*r)}};function DynamicGraph(e){let{config:t,width:s=800,height:l=400}=e,n=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!n.current)return;let e=n.current,a=e.getContext("2d");if(a)switch(a.clearRect(0,0,s,l),t.type){case"line":drawLineChart(a,t,s,l);break;case"bar":drawBarChart(a,t,s,l);break;case"scatter":drawScatterChart(a,t,s,l);break;case"area":drawAreaChart(a,t,s,l);break;case"pie":drawPieChart(a,t,s,l)}},[t,s,l]);let drawLineChart=(e,t,s,a)=>{let r=s-120,l=a-120,n=t.data.map(e=>e.y),i=Math.min(...n),c=Math.max(...n)-i||1;e.strokeStyle="#374151",e.lineWidth=2,e.beginPath(),e.moveTo(60,60),e.lineTo(60,a-60),e.lineTo(s-60,a-60),e.stroke(),e.strokeStyle="#e5e7eb",e.lineWidth=1;for(let t=0;t<=5;t++){let a=60+t/5*l;e.beginPath(),e.moveTo(60,a),e.lineTo(s-60,a),e.stroke()}e.strokeStyle="#3b82f6",e.lineWidth=3,e.beginPath(),t.data.forEach((s,n)=>{let o=60+n/(t.data.length-1)*r,d=a-60-(s.y-i)/c*l;0===n?e.moveTo(o,d):e.lineTo(o,d)}),e.stroke(),e.fillStyle="#3b82f6",t.data.forEach((s,n)=>{let o=60+n/(t.data.length-1)*r,d=a-60-(s.y-i)/c*l;e.beginPath(),e.arc(o,d,4,0,2*Math.PI),e.fill()}),e.fillStyle="#374151",e.font="12px sans-serif",e.textAlign="center",e.fillText(t.title,s/2,20),e.textAlign="right";for(let t=0;t<=5;t++){let s=i+t/5*c,a=60+t/5*l;e.fillText(s.toFixed(0),50,a+4)}},drawBarChart=(e,t,s,a)=>{let r=s-120,l=a-120,n=t.data.map(e=>e.y),i=Math.max(...n),c=r/t.data.length*.8;e.strokeStyle="#374151",e.lineWidth=2,e.beginPath(),e.moveTo(60,60),e.lineTo(60,a-60),e.lineTo(s-60,a-60),e.stroke(),t.data.forEach((s,n)=>{let o=s.y/i*l,d=60+n/t.data.length*r+(r/t.data.length-c)/2,x=a-60-o;e.fillStyle="#3b82f6",e.fillRect(d,x,c,o),e.fillStyle="#374151",e.font="10px sans-serif",e.textAlign="center",e.fillText(s.y.toFixed(0),d+c/2,x-5)}),e.fillStyle="#374151",e.font="12px sans-serif",e.textAlign="center",e.fillText(t.title,s/2,20)},drawScatterChart=(e,t,s,a)=>{let r=s-120,l=a-120,n=t.data.map(e=>e.x),i=t.data.map(e=>e.y),c=Math.min(...n),o=Math.min(...i),d=Math.max(...n)-c||1,x=Math.max(...i)-o||1;e.strokeStyle="#374151",e.lineWidth=2,e.beginPath(),e.moveTo(60,60),e.lineTo(60,a-60),e.lineTo(s-60,a-60),e.stroke(),e.fillStyle="#3b82f6",t.data.forEach(t=>{let s=60+(t.x-c)/d*r,n=a-60-(t.y-o)/x*l;e.beginPath(),e.arc(s,n,6,0,2*Math.PI),e.fill()}),e.fillStyle="#374151",e.font="12px sans-serif",e.textAlign="center",e.fillText(t.title,s/2,20)},drawAreaChart=(e,t,s,a)=>{let r=s-120,l=a-120,n=t.data.map(e=>e.y),i=Math.min(...n),c=Math.max(...n)-i||1;e.fillStyle="rgba(59, 130, 246, 0.3)",e.beginPath(),t.data.forEach((s,n)=>{let o=60+n/(t.data.length-1)*r,d=a-60-(s.y-i)/c*l;0===n&&e.moveTo(o,a-60),e.lineTo(o,d)}),e.lineTo(s-60,a-60),e.closePath(),e.fill(),e.strokeStyle="#3b82f6",e.lineWidth=3,e.beginPath(),t.data.forEach((s,n)=>{let o=60+n/(t.data.length-1)*r,d=a-60-(s.y-i)/c*l;0===n?e.moveTo(o,d):e.lineTo(o,d)}),e.stroke(),e.fillStyle="#374151",e.font="12px sans-serif",e.textAlign="center",e.fillText(t.title,s/2,20)},drawPieChart=(e,t,s,a)=>{let r=s/2,l=a/2,n=Math.min(s,a)/2-40,i=t.data.reduce((e,t)=>e+t.value,0),c=0,o=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4"];t.data.forEach((t,s)=>{let a=t.value/i*2*Math.PI;e.fillStyle=o[s%o.length],e.beginPath(),e.moveTo(r,l),e.arc(r,l,n,c,c+a),e.closePath(),e.fill();let d=c+a/2,x=r+Math.cos(d)*(n+20),m=l+Math.sin(d)*(n+20);e.fillStyle="#374151",e.font="10px sans-serif",e.textAlign="center",e.fillText(t.label,x,m),e.fillText(t.value.toFixed(0),x,m+12),c+=a}),e.fillStyle="#374151",e.font="12px sans-serif",e.textAlign="center",e.fillText(t.title,s/2,20)};return(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,a.jsx)("canvas",{ref:n,width:s,height:l,className:"border rounded"})})}function QueryInterface(e){let{inventoryData:t=[],historyData:s=[]}=e,[l,n]=(0,r.useState)(""),[i,c]=(0,r.useState)(null),[o,x]=(0,r.useState)(null),[m,u]=(0,r.useState)(!1),[p,y]=(0,r.useState)([]),[f,b]=(0,r.useState)([]);(0,r.useEffect)(()=>{let fetchInventoryData=async()=>{try{let e=await fetch("/api/inventory/real");if(e.ok){let t=await e.json();b(t)}}catch(e){console.error("Error fetching inventory data:",e)}};fetchInventoryData()},[]);let handleQuery=async()=>{if(l.trim()){u(!0);try{let e=QueryParser.parseQuery(l);c(e);let t=await generateDataForIntent(e),s=GraphGenerator.generateGraph(e,t);x(s),y(e=>[l,...e.slice(0,4)])}catch(e){console.error("Error processing query:",e)}finally{u(!1)}}},generateDataForIntent=async e=>{if(e.entities.some(e=>e.startsWith("SKU-"))){let t=e.entities.find(e=>e.startsWith("SKU-"));if(t)try{let e=await fetch("/api/inventory/history/".concat(t));if(e.ok)return await e.json()}catch(e){console.error("Error fetching history data:",e)}}if(e.entities.some(e=>["fresh produce","dairy","meat","bakery","beverages"].includes(e))){let t=e.entities.find(e=>["fresh produce","dairy","meat","bakery","beverages"].includes(e));return f.filter(e=>{var s;return null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t||"")})}return f};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ask a Question About Your Data"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("input",{type:"text",value:l,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&handleQuery(),placeholder:"e.g., Show me stock trends for SKU-001 over the last month",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,a.jsxs)("button",{onClick:handleQuery,disabled:m||!l.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[(0,a.jsx)(g,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:m?"Analyzing...":"Ask"})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Try these examples:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["Show me stock trends for SKU-001 over the last month","Compare inventory levels across all products","Forecast demand for the next week","Analyze the relationship between sales and stock levels"].map((e,t)=>(0,a.jsx)("button",{onClick:()=>n(e),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700 transition-colors",children:e},t))})]})]}),i&&(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Query Analysis"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e.type){case"trend":return"text-blue-600 bg-blue-100";case"comparison":return"text-green-600 bg-green-100";case"forecast":return"text-purple-600 bg-purple-100";case"analysis":return"text-orange-600 bg-orange-100";case"summary":return"text-pink-600 bg-pink-100";default:return"text-gray-600 bg-gray-100"}})(i)),children:[(e=>{switch(e.type){case"trend":case"forecast":return(0,a.jsx)(d,{className:"h-4 w-4"});case"comparison":case"analysis":default:return(0,a.jsx)(h,{className:"h-4 w-4"});case"summary":return(0,a.jsx)(k,{className:"h-4 w-4"})}})(i),(0,a.jsx)("span",{children:i.type.toUpperCase()})]}),i.entities.length>0&&(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Entities:"})," ",i.entities.join(", ")]}),i.timeframe&&(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Timeframe:"})," ",i.timeframe]}),i.metric&&(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Metric:"})," ",i.metric]})]})]}),o&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Generated Visualization"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[o.type.toUpperCase()," Chart"]})]}),(0,a.jsx)(DynamicGraph,{config:o})]}),p.length>0&&(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Recent Queries"}),(0,a.jsx)("div",{className:"space-y-2",children:p.map((e,t)=>(0,a.jsx)("button",{onClick:()=>n(e),className:"block w-full text-left text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 p-2 rounded transition-colors",children:e},t))})]})]})}var _=s(2601);async function apiGet(e){var t;let s=null!==(t=_.env.NEXT_PUBLIC_API_URL)&&void 0!==t?t:"",a=await fetch("".concat(s).concat(e),{cache:"no-store"});if(!a.ok)throw Error("Network response was not ok");return a.json()}let S=_.env.NEXT_PUBLIC_API_URL||"(unset)";function Home(){let[e,t]=(0,r.useState)("overview"),[s,l]=(0,r.useState)("All Categories"),[c,o]=(0,r.useState)(!1),[d,x]=(0,r.useState)("unknown"),[m,u]=(0,r.useState)(!1),h=(0,r.useRef)(null);(0,r.useEffect)(()=>{let handleClickOutside=e=>{h.current&&!h.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]);let p=(0,r.useCallback)(async()=>{u(!0);try{await apiGet("/health"),x("ok")}catch(e){x("down")}finally{u(!1)}},[]);return(0,r.useEffect)(()=>{p()},[p]),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"relative",ref:h,children:[(0,a.jsxs)("button",{onClick:()=>o(!c),className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,a.jsx)("span",{children:"\uD83D\uDED2"}),(0,a.jsx)("span",{children:s}),(0,a.jsx)(n,{className:"h-4 w-4"})]}),c&&(0,a.jsx)("div",{className:"absolute z-10 mt-1 w-56 bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none",children:["All Categories","Fresh Produce","Dairy & Eggs","Meat & Seafood","Bakery","Pantry Staples","Beverages","Snacks","Frozen Foods","Health & Beauty","Household Items","Baby & Kids","Pet Supplies","Organic & Natural","International Foods"].map(e=>(0,a.jsx)("button",{onClick:()=>{l(e),o(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100 ".concat(s===e?"bg-blue-50 text-blue-600":"text-gray-900"),children:e},e))})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Backroom — Inventory Intelligence"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:["ok"===d&&(0,a.jsx)("span",{title:"Backend: ".concat(S),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"API Connected"}),"down"===d&&(0,a.jsx)("span",{title:"Backend: ".concat(S),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"API Down"}),"unknown"===d&&(0,a.jsx)("span",{title:"Backend: ".concat(S),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Checking API…"}),(0,a.jsxs)("button",{onClick:p,disabled:m,className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50",title:"Re-check API health",children:[(0,a.jsx)(i,{className:"h-3.5 w-3.5 ".concat(m?"animate-spin":"")}),"Retry"]}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"DuckDB Connected"})]})]})})}),(0,a.jsx)("nav",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:"\uD83D\uDCCA"},{id:"upload",label:"Upload & Clean",icon:"\uD83D\uDCE4"},{id:"parquet",label:"Parquet Data",icon:"\uD83D\uDDC4️"},{id:"query",label:"Query Graphs",icon:"\uD83D\uDD0D"},{id:"forecast",label:"Forecast",icon:"\uD83D\uDD2E"},{id:"chat",label:"AI Chat",icon:"\uD83D\uDCAC"}].map(s=>(0,a.jsxs)("button",{onClick:()=>t(s.id),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(e===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:s.icon}),s.label]},s.id))})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:["overview"===e&&(0,a.jsx)(InventoryDashboard,{}),"upload"===e&&(0,a.jsx)(UploadSection,{}),"parquet"===e&&(0,a.jsx)(ParquetUpload,{}),"query"===e&&(0,a.jsx)(QueryInterface,{}),"forecast"===e&&(0,a.jsx)(ForecastSection,{}),"chat"===e&&(0,a.jsx)(ChatInterface,{})]})})]})}},8960:function(e){!function(){var t={229:function(e){var t,s,a,r=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}function runClearTimeout(e){if(s===clearTimeout)return clearTimeout(e);if((s===defaultClearTimeout||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{s="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){s=defaultClearTimeout}}();var l=[],n=!1,i=-1;function cleanUpNextTick(){n&&a&&(n=!1,a.length?l=a.concat(l):i=-1,l.length&&drainQueue())}function drainQueue(){if(!n){var e=runTimeout(cleanUpNextTick);n=!0;for(var t=l.length;t;){for(a=l,l=[];++i<t;)a&&a[i].run();i=-1,t=l.length}a=null,n=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];l.push(new Item(e,t)),1!==l.length||n||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=noop,r.addListener=noop,r.once=noop,r.off=noop,r.removeListener=noop,r.removeAllListeners=noop,r.emit=noop,r.prependListener=noop,r.prependOnceListener=noop,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},s={};function __nccwpck_require__(e){var a=s[e];if(void 0!==a)return a.exports;var r=s[e]={exports:{}},l=!0;try{t[e](r,r.exports,__nccwpck_require__),l=!1}finally{l&&delete s[e]}return r.exports}__nccwpck_require__.ab="//";var a=__nccwpck_require__(229);e.exports=a}()},622:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=s(2265),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,s){var a,l={},o=null,d=null;for(a in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,a)&&!c.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:r,type:e,key:o,ref:d,props:l,_owner:i.current}}t.Fragment=l,t.jsx=q,t.jsxs=q},7437:function(e,t,s){"use strict";e.exports=s(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=5974)}),_N_E=e.O()}]);